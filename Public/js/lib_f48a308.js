;/*!waimai:static/plugin/json-2.3.js*/
this.JSON||(this.JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,f,o,u,i=gap,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(o=a.length,n=0;o>n;n+=1)u[n]=str(n,a)||"null";return f=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,f}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)r=rep[n],"string"==typeof r&&(f=str(r,a),f&&u.push(quote(r)+(gap?": ":":")+f));else for(r in a)Object.hasOwnProperty.call(a,r)&&(f=str(r,a),f&&u.push(quote(r)+(gap?": ":":")+f));return f=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,f}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,f=t[e];if(f&&"object"==typeof f)for(n in f)Object.hasOwnProperty.call(f,n)&&(r=walk(f,n),void 0!==r?f[n]=r:delete f[n]);return reviver.call(t,e,f)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),$.toJSON=JSON.stringify,$.evalJSON=JSON.parse}();
;/*!waimai:static/utils/AddressDataCenter.js*/
define("waimai:static/utils/AddressDataCenter",function(t,n,e){function r(t){for(;t&&t.length>_;)t.pop();return t}function i(t,n){return t&&n&&a(t)===a(n)}function a(t){var n="";for(var e in t)t.hasOwnProperty(e)&&"shopnum"!=e&&"city_id"!=e&&(n+=t[e]);return n}function o(t){for(var n=!0,e=0,r=l.length;r>e;e++)"address"!=l[e]&&(n=n&&t[l[e]]);return n}var s,u=t("wcommon:static/util/Cookie"),d=(t("wcommon:static/util"),864e5),c=(new Date).getTime(),_=5,l=["name","lat","lng","address","shopnum","city_id"];s={COOKIE_ADDR_KEY:"wm_search_addr",COOKIE_ADDR_EXPIRES:c+365*d,DEFAULT_PATH:"/"},e.exports={add:function(t){if(o(t)){var n,e={},a=[],d=this.getAll();e.name=encodeURIComponent(t.name),e.address=encodeURIComponent(t.address),e.lat=t.lat,e.lng=t.lng,e.shopnum=t.shopnum,e.city_id=t.city_id,e.uid=t.uid;for(var c=0,_=d.length;_>c;c++){var l=d[c];i(l,e)&&d.splice(c,1)}d.unshift(e),a=r(d),n=JSON.stringify(a),u.setRaw(s.COOKIE_ADDR_KEY,n,{expires:s.COOKIE_ADDR_EXPIRES,path:s.DEFAULT_PATH})}},getAll:function(){var t=u.getRaw(s.COOKIE_ADDR_KEY);return t?JSON.parse(t):[]},clearAll:function(){return u.setRaw(s.COOKIE_ADDR_KEY,[],{expires:c,path:s.DEFAULT_PATH}),!0}}});
;/*!waimai:static/utils/store.js*/
define("waimai:static/utils/store",function(e,t,n){!function(){function e(){try{return l in u&&u[l]}catch(e){return!1}}function t(){try{return f in u&&u[f]&&u[f][u.location.hostname]}catch(e){return!1}}function r(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(o),s.appendChild(o),o.addBehavior("#default#userData"),o.load(l);var n=e.apply(a,t);return s.removeChild(o),n}}function i(e){return e.replace(g,"___")}var o,a={},u=window,c=u.document,l="localStorage",f="globalStorage",d="__storejs__";if(a.disabled=!1,a.set=function(){},a.get=function(){},a.remove=function(){},a.clear=function(){},a.transact=function(e,t,n){var r=a.get(e);null==n&&(n=t,t=null),"undefined"==typeof r&&(r=t||{}),n(r),a.set(e,r)},a.getAll=function(){},a.serialize=function(e){return JSON.stringify(e)},a.deserialize=function(e){return"string"!=typeof e?void 0:JSON.parse(e)},e())o=u[l],a.set=function(e,t){return void 0===t?a.remove(e):void o.setItem(e,a.serialize(t))},a.get=function(e){return a.deserialize(o.getItem(e))},a.remove=function(e){o.removeItem(e)},a.clear=function(){o.clear()},a.getAll=function(){for(var e={},t=0;t<o.length;++t){var n=o.key(t);e[n]=a.get(n)}return e};else if(t())o=u[f][u.location.hostname],a.set=function(e,t){return void 0===t?a.remove(e):void(o[e]=a.serialize(t))},a.get=function(e){return a.deserialize(o[e]&&o[e].value)},a.remove=function(e){delete o[e]},a.clear=function(){for(var e in o)delete o[e]},a.getAll=function(){for(var e={},t=0;t<o.length;++t){var n=o.key(t);e[n]=a.get(n)}return e};else if(c.documentElement.addBehavior){var s,v;try{v=new ActiveXObject("htmlfile"),v.open(),v.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),v.close(),s=v.w.frames[0].document,o=s.createElement("div")}catch(m){o=c.createElement("div"),s=c.body}var g=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");a.set=r(function(e,t,n){return t=i(t),void 0===n?a.remove(t):(e.setAttribute(t,a.serialize(n)),void e.save(l))}),a.get=r(function(e,t){return t=i(t),a.deserialize(e.getAttribute(t))}),a.remove=r(function(e,t){t=i(t),e.removeAttribute(t),e.save(l)}),a.clear=r(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(l)}),a.getAll=r(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n,r={},i=0;n=t[i];++i)r[n]=a.get(n);return r})}try{a.set(d,d),a.get(d)!=d&&(a.disabled=!0),a.remove(d)}catch(m){a.disabled=!0}a.enabled=!a.disabled,"undefined"!=typeof n&&"function"!=typeof n?n.exports=a:"function"==typeof define&&define.amd?define(a):this.store=a}()});
;/*!waimai:static/utils/superTip.js*/
define("waimai:static/utils/superTip",function(t,o,e){!function(){var t=8,i={hostSelector:"",autoOpen:!0,autoClose:!1,showTime:1e3,msg:"I'm a tip!",borderRadius:5,position:{my:"bottom center",at:"top center"},offset:{x:0,y:0}},p={display:"none","background-color":"rgba(0, 0, 0, 0.7)",position:"absolute","font-size":"12px",color:"#fff","line-height":"1.4","z-index":"1000"},n={},r={},s=function(t){return t+(new Date).getTime()},l=function(){var t={};return{set:function(o,e){if("function"==typeof o&&e&&"number"==typeof e){var i=s("sto_");t[i]=setTimeout(function(){o(),clearTimeout(i)},e)}}}}(),f=["top left","top right","top center","right top","right bottom","right middle","bottom left","bottom right","bottom center","left top","left bottom","left middle"],h=function(o,e,i,p,n){var r=e&&e.at,s=e&&e.my;-1==$.inArray(r,f)&&(r=f[0]),-1==$.inArray(s,f)&&(s=f[0]);var l,h=r.split(" ")[0],a=r.split(" ")[1],m=s.split(" ")[0],x=(s.split(" ")[1],t),d=o.offset(),c=d.left,u=d.top,g=o.outerWidth(),b=o.outerHeight();return"top"==h?"left"==a?"top"==m?l={left:c,top:u+x}:"bottom"==m&&(l={left:c,top:u-p-x}):"right"==a?"top"==m?l={left:c+g-i,top:u+x}:"bottom"==m&&(l={left:c+g-i,top:u-p-x}):"top"==m?l={left:c+g/2-i/2,top:u+x}:"bottom"==m&&(l={left:c+g/2-i/2,top:u-p-x}):"right"==h?"top"==a?"left"==m?l={left:c+g+x,top:u}:"right"==m&&(l={left:c+g-i-x,top:u}):"bottom"==a?"left"==m?l={left:c+g+x,top:u+b-p}:"right"==m&&(l={left:c+g-i-x,top:u+b-p}):"left"==m?l={left:c+g+x,top:u+b/2-p/2}:"right"==m&&(l={left:c+g-i-x,top:u+b/2-p/2}):"bottom"==h?"left"==a?"top"==m?l={left:c,top:u+b+x}:"bottom"==m&&(l={left:c,top:u+b-p-x}):"right"==a?"top"==m?l={left:c+g-i,top:u+b+x}:"bottom"==m&&(l={left:c+g-i,top:u+b-p-x}):"top"==m?l={left:c+g/2-i/2,top:u+b+x}:"bottom"==m&&(l={left:c+g/2-i/2,top:u+b-p-x}):"top"==a?"left"==m?l={left:c+x,top:u}:"right"==m&&(l={left:c-i-x,top:u}):"bottom"==a?"left"==m?l={left:c+x,top:u+b-p}:"right"==m&&(l={left:c-i-x,top:u+b-p}):"left"==m?l={left:c+x,top:u+b/2-p/2}:"right"==m&&(l={left:c-i-x,top:u+b/2-p/2}),l||(l={top:u-p-x,left:c+g/2-i/2}),l.left+=n.x,l.top+=n.y,l.left+="px",l.top+="px",l},a=function(o,e,i){-1==$.inArray(o,f)&&(o=f[0]),e=e||"#333",i=i||0;var p,n,r,s=o.split(" ")[0],l=o.split(" ")[1],h=t;return"top"==s?(p="0 "+h/2+"px "+h+"px "+h/2+"px",n="transparent transparent "+e+" transparent",r="left"==l?{left:i+"px",top:"-"+h+"px"}:"right"==o?{right:i+"px",top:"-"+h+"px"}:{left:"50%",top:"-"+h+"px","margin-left":"-"+h/2+"px"}):"right"==s?(p=h/2+"px 0 "+h/2+"px "+h+"px",n="transparent transparent transparent "+e,r="top"==l?{top:i+"px",right:"-"+h+"px"}:"bottom"==o?{bottom:i+"px",right:"-"+h+"px"}:{top:"50%",right:"-"+h+"px","margin-top":"-"+h/2+"px"}):"bottom"==s?(p=h+"px "+h/2+"px 0 "+h/2+"px",n=e+" transparent transparent transparent",r="left"==l?{left:i+"px",bottom:"-"+h+"px"}:"right"==o?{right:i+"px",bottom:"-"+h+"px"}:{left:"50%",bottom:"-"+h+"px","margin-left":"-"+h/2+"px"}):(p=h/2+"px "+h+"px "+h/2+"px 0",n="transparent "+e+" transparent transparent",r="top"==l?{top:i+"px",left:"-"+h+"px"}:"bottom"==o?{bottom:i+"px",left:"-"+h+"px"}:{top:"50%",left:"-"+h+"px","margin-top":"-"+h/2+"px"}),$.extend({position:"absolute",height:"0",width:"0","border-style":"solid","border-color":n,"border-width":p},r)},m=function(t,o){var t=this.options=$.extend({},i,n,t),o=this.styles=$.extend({},p,r,o,{"border-radius":t.borderRadius+"px"}),e=this.key=s("dcTip"),f=t.position.my,h=t.triangleColor||o["background-color"],m=t.borderRadius,x=a(f,h,m),d=this.elem=$("<div id="+e+"><i></i><div><p>"+t.msg+"</p></div></div>").appendTo("body");if(d.css(o),d.children("i").css(x),d.children("div").css({padding:"5px 15px","max-width":"300px"}),t.autoOpen&&this.show(),t.autoClose&&t.showTime>0){var c=this;l.set(function(){c.hide()},t.showTime)}};m.prototype={constructor:m,position:function(){var t,o=$(this.options.hostSelector);o.length&&o.offset()&&o.filter(":visible")?t=h(o,this.options.position,this.elem.width(),this.elem.height(),this.options.offset):(this.elem.children("i").hide(),t={left:"50%",top:"200px","margin-left":"-"+this.elem.outerWidth()/2+"px"}),this.elem.css(t)},setMsg:function(t){this.elem.find("p").html(t),this.position()},onEvent:function(){var t=this,o=function(){t.position()};$(window).off("resize",o).off("scroll",o).on("resize",o).on("scroll",o)},show:function(){this.elem.show(),this.position(),this.onEvent()},hide:function(){this.remove()},remove:function(){this.elem.remove()}},o=e.exports={create:function(t,o){return new m(t,o)},gSetStyles:function(t){$.extend(r,t)},gSetOptions:function(t){$.extend(n,t)}}}()});
;/*!waimai:static/utils/CartDataCenter.js*/
define("waimai:static/utils/CartDataCenter",function(t,e,i){function r(t){return(Math.round(100*t)/100).toFixed(2)}function o(t,e){_value=encodeURIComponent(e),S.setRaw("s"+t+"s",_value,{path:"/"}),F.set("s"+t+"s",e)}function n(t){return F.get("s"+t+"s")||S.get("s"+t+"s")}function a(t,e,i,r,o){var n=k,a="activity_dishid_arr"+n,s=(F.get(a)||decodeURIComponent(S.get(a))||"").split(","),u=$.inArray(t,s)>-1;if(-1!==$.inArray("null",s)&&s.splice($.inArray("null",s),1),e){if(u){var m=$.inArray(t,s);s.splice(m,1),S.setRaw(a,encodeURIComponent(s.join(",")),{path:"/"}),F.set(a,s.join(","))}}else{if(i)return s.splice(0,s.length),S.setRaw(a,encodeURIComponent(s.join(",")),{path:"/"}),void F.set(a,s.join(","));if(u){if(o)return"isin"}else{if(o)return"notin";s.push(t),S.setRaw(a,encodeURIComponent(s.join(",")),{path:"/"}),F.set(a,s.join(","))}}}function s(t){a(t,!0)}function u(t){"1"===t.dishactflag?a(t.itemId):s(t.itemId)}function m(){a(null,!1,!0)}function c(t){var e=_.shopItem,i={total:0,actTotal:0,dishes:{}};return t&&$.each(e,function(e,r){r.dishactid==t&&(i.dishes[r.itemId]=parseInt(r.activitynum||0),i.total+=parseInt(r.itemCount||0),i.actTotal+=parseInt(r.activitynum||0))}),i}function d(t,e){var i=t.elem,r=t.itemId,o=t.orderlimit,n=t.dishlimit,s=1*t.itemCount;if("1"===t.dishactflag){var u=c(t.dishactid),m=(a(r,!1,!1,o,!0),$("[data-sid=item_"+r+"]")),d=1*m.attr("leftnum");if("minus"==e)return void(t.activitynum=u.dishes[r]>s?s:u.dishes[r]||0);if(t.activitynum=u.dishes[r]>=s?s-1:u.dishes[r]||0,u.actTotal>=o)return N.create({hostSelector:i,autoClose:!0,showTime:3e3,borderRadius:2,msg:"每单只能有"+o+"个菜品享受活动优惠，已超出限额~",position:{at:"top center",my:"bottom center"}},{width:"176px","text-align":"center"}),"beyond_orderlimit";if(s>=d+1)return N.create({hostSelector:i,autoClose:!0,showTime:3e3,borderRadius:2,msg:"超出活动库存，按原价计算~",position:{at:"top center",my:"bottom center"}},{width:"176px","text-align":"center"}),"beyond_leftnum";if(s>+n){var p="";return p=0==n?"您今天可享受的特价优惠份数已用完～":"前"+n+"份可享受特价优惠<br />您已超出限额～",N.create({hostSelector:i,autoClose:!0,showTime:3e3,borderRadius:2,msg:p,position:{at:"top center",my:"bottom center"}},{width:"176px","text-align":"center","z-index":"1000"}),"beyond_dishlimit"}var h=o-u.actTotal,l=s-t.activitynum;return t.activitynum+=Math.min(h,l),"can_add_act"}}function p(t){return a(t,!1,!1,null,!0)}function h(t){f(n(t));S.remove("s"+t+"s"),F.remove("s"+t+"s"),F.clear()}function l(t){var e,i=[];return $.each(t.shopItem,function(t,e){i.push([e.itemId,e.itemCount,e.itemName,e.itemPrice,e.packCount,e.packPrice,e.minOrderNumber,e.itemStock,e.itemDishType,e.itemStockId,e.orderlimit,e.dishlimit,e.dishactflag,e.activitynum,e.category_id,e.require_category_id,e.uniqId,e.dishactid].join(T.item))}),e=[t.shopName,t.shopId,t.deliveryFee,t.takeOutPrice,i.join(T.itemToItem)].join(T.shopToItem)}function f(t){if(!t)return{shopName:"",shopId:"",deliveryFee:0,takeOutPrice:0,shopItem:[]};var e=t.split(T.shopToItem),i={};return e.length>=1&&(i.shopName=e[0]),e.length>=2&&(i.shopId=e[1]+""),e.length>=3&&(i.deliveryFee=e[2]),e.length>=4&&(i.takeOutPrice=e[3]),i.shopItem=[],e.length>=5&&(e=e[4])&&(e=e.split(T.itemToItem),$.each(e,function(t,e){var r=e.split(T.item);if(r[0]&&2==r[8]){var o=F.get("s"+r[0]+"s");if(!o)return}i.shopItem.push({itemId:r[0],itemCount:parseInt(r[1]),itemName:r[2],itemPrice:r[3],packCount:r[4],packPrice:r[5],minOrderNumber:r[6],itemStock:parseInt(r[7]),itemDishType:r[8],itemStockId:r[9],orderlimit:r[10],dishlimit:r[11],dishactflag:r[12],activitynum:r[13],category_id:r[14],require_category_id:r[15],uniqId:r[16],dishactid:r[17]})})),i}function I(){o(k,l(_))}function g(){_=f(n(k)),_.shopId=k}function y(t,i,r,o){var n=0,a=!1;for(o=parseInt(o),r=parseInt(r),itemIdex=0,len=_.shopItem.length;len>itemIdex;itemIdex++)_.shopItem[itemIdex].itemStockId==i&&(_.shopItem[itemIdex].itemId==t?(n+=r,a=!0):n+=_.shopItem[itemIdex].itemCount);return a||(n+=r),n>=o?$(e).trigger("features.stockTight",{sid:i,num:o}):o>n&&$(e).trigger("features.stockNormal",i),n>o?r+o-n:r}function v(t,e,i){if(i){var r={product_id:i.itemId,product_quantity:e,feature_id:[]};for(var o in i.select)"规格"!=o?r.feature_id.push(i.select[o].id):r.product_id=i.select[o].id;return $.extend({},r)}}function C(t,e,i){if(i){var r,o,n,a={product_id:i.basic.id,product_quantity:e,groupons:[]};for(var s in i.data)if(i.data[s].total&&i.data[s].total.count){r={dish_group_id:s,ids:[]};for(var u in i.data[s])if("total"!=u&&(n=i.data[s][u],n.count)){if(n.features&&n.features.length){var m=$.extend([],n.features);n.realId?(m.splice($.inArray(n.realId,m),1),o={product_id:n.realId,product_quantity:n.count,feature_id:m}):o={product_id:u,product_quantity:n.count,feature_id:m}}else o={product_id:u,product_quantity:n.count};r.ids.push($.extend({},o))}a.groupons.push($.extend({},r))}return $.extend({},a)}}var e,_,k,S=t("wcommon:static/util/Cookie"),T=(t("wcommon:static/util"),{shopToItem:"##",itemToItem:"$$",item:"^^"}),x=t("waimai:widget/common/ui/cartAlert/cartAlert"),F=t("waimai:static/utils/store"),N=t("waimai:static/utils/superTip"),P={url:"/waimai/trade/getorderprice",timer:null,delay:200,recount:3,restore:function(){$(e).trigger("failpremium.shopCar")},retry:function(t){var i=this;t=t||0,t<i.recount?(clearTimeout(i.timer),i.timer=setTimeout(function(){$.ajax({url:i.url,data:i.params,type:"post",dataType:"json",success:function(t){if(0==t.error_no){var r=t.result.order_info,o=t.result.discount_info;$(e).trigger("premium.shopCar",{prices:r,discounts:o})}else t.error_no?(t.error_msg||(t.error_msg="餐厅太忙，暂时不能接单"),x.alert(t),i.restore()):i.restore()},error:function(){i.retry(++t)}})},i.delay)):i.restore()},get:function(t){var e=this;e.params=t,e.retry()},JSONStringify:function(t){return JSON.stringify(t)},adaptParam:function(t,e){var i=this,r=[];for(var o in e){var n=e[o].itemId,a=e[o].itemCount,s=e[o].dishactflag;if(!e[o].itemDishType||2!=e[o].itemDishType&&"attr"!=e[o].itemDishType)r.push("1"===s?{product_id:n,product_quantity:a,dish_activity:s,activity_num:e[o].activitynum}:{product_id:n,product_quantity:a});else{var u=F.get("s"+n+"s")||JSON.parse(S.get("s"+n+"s"));r.push(2==e[o].itemDishType?C(n,a,u):v(n,a,u))}}return{shop_id:t,products:i.JSONStringify(r)}}};e=i.exports={fetchPremium:function(){var t=P.adaptParam(this.getCurShopId(),this.getCarItems());P.get(t)},getCarInfo:function(t){var e=n(t);if(!e)return!1;var i=f(e).shopItem;return i},fetchItems:function(){return P.adaptParam(this.getCurShopId(),this.getCarItems())},setCarItem:function(t){var i,o;for(t.itemPrice&&(t.itemPrice=r(t.itemPrice)),o=0,len=_.shopItem.length;len>o;o++)if(_.shopItem[o].itemId==t.itemId){i=_.shopItem[o];break}t.itemCount=parseInt(t.itemCount,10),"append"==t.type&&i&&(t.itemCount+=i.itemCount||0),i&&i.itemCount>t.itemCount?d(t,"minus"):d(t,"add");try{if(t.selectFeatures||i&&"attr"==i.itemDishType){if(t=$.extend(i||{},t),t.itemStockId=t.itemStockId||t.selectFeatures.itemId,t.itemCount=y(t.itemId,t.itemStockId,t.itemCount,t.itemStock),t.itemCount<0)return;t.selectFeatures&&F.set("s"+t.itemId+"s",t.selectFeatures)}}catch(n){}if(("2"==t.itemDishType||i&&"2"==i.itemDishType)&&(t=$.extend(i||{},t),t.itemStockId=t.itemStockId||t.orignItemId,t.itemCount=y(t.itemId,t.itemStockId,t.itemCount,t.itemStock)),i)if($.extend(i,t),i.itemCount<i.minOrderNumber){if(_.shopItem.splice(o,1),$(e).trigger("delete.shopCar",i),2==i.itemDishType||i.selectFeatures){var a=new Date;a.setFullYear(a.getFullYear()-1),F.remove("s"+i.itemId+"s")}}else i.itemCount>=i.itemStock&&(i.itemCount=i.itemStock),i.activitynum>i.itemCount&&(i.activitynum=i.itemCount),$(e).trigger("update.shopCar",i);else{if(!t.itemName)return;if(!t.itemStock||!t.itemCount)return;if(parseInt(t.itemStock)<parseInt(t.minOrderNumber))return void s(t.itemId);t.itemCount<t.minOrderNumber&&(t.itemCount=t.minOrderNumber),t.itemCount>t.itemStock&&(t.itemCount=t.itemStock),_.shopItem.push(t),$(e).trigger("add.shopCar",t)}m(),$.each(_.shopItem,function(){u(this)}),0==_.shopItem.length&&$(e).trigger("clear.shopCar"),I()},setCurShopInfo:function(t,e,i,r){_||(_={}),_.shopId=t||_.shopId,_.shopName=e||_.shopName,_.deliveryFee=i||_.deliveryFee,_.takeOutPrice=r||_.takeOutPrice,I()},getCurShopName:function(){return _.shopName},getCurShopId:function(){return _.shopId},getCarItems:function(){return _.shopItem},clearCar:function(t){m(),_.shopItem=[],I(),!t&&$(e).trigger("clear.shopCar")},init:function(t){k=t+"",m(),g(),$.each(_.shopItem,function(){u(this)}),$(e).trigger("inited.shopCar",_)},getAmount:function(){var t=0,e=0;return $.each(_.shopItem,function(i,r){e+=r.packCount*r.packPrice*r.itemCount,t+=r.itemCount*r.itemPrice}),{deliveryFee:r(_.deliveryFee),packFee:r(e),productAmount:r(t),amount:r(t+e+parseFloat(_.deliveryFee)),takeOutPrice:r(_.takeOutPrice),cha:r(_.takeOutPrice-t-e),isEmpty:0==_.shopItem.length}},isEmpty:function(){return _&&_.shopItem.length>0?!1:!0},resetCar:function(t){_.shopItem=t,I()},adaptSetMealForServer:C,adaptFeatureForServer:v,clearData:h,checkActdish:d,justCheckActdish:p}});
;/*!waimai:static/utils/convertMC2LL.js*/
define("waimai:static/utils/convertMC2LL",function(e,t,a){!function(){function e(e,t){if(e&&t){var a=t[0]+t[1]*Math.abs(e.lng),n=Math.abs(e.lat/t[9]),r=t[2]+t[3]*n+t[4]*n*n+t[5]*n*n*n+t[6]*n*n*n*n+t[7]*n*n*n*n*n+t[8]*n*n*n*n*n+n;return a*=e.lng<0?-1:1,r*=e.lat<0?-1:1,[a,r]}}var t=function(t){for(var a,n=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],r=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],i=[Math.abs(t.lng),Math.abs(t.lat)],o=n.length,u=0;o>u;u++)if(i[1]>=n[u]){a=r[u];break}var f=e(t,a),l=new Number(f[0]).toFixed(6),b=new Number(f[1]).toFixed(6);return[l,b]};a.exports=t}()});
;/*!waimai:static/utils/CookieDataCenter.js*/
define("waimai:static/utils/CookieDataCenter",function(t,e,n){var i,o=t("wcommon:static/util/Cookie"),C=t("wcommon:static/util"),E=864e5,a=(new Date).getTime();i={COOKIE_CITY_KEY:"wm_city",COOKIE_CITY_EXPIRES:a+5e3*E,COOKIE_ADDR_KEY:"wm_addr",COOKIE_ADDR_EXPIRES:a+7*E,DEFAULT_CITY:{code:131,name:"北京"},CITY_SUPPORT:{131:1,289:1,179:1,315:1,224:1},DEFAULT_PATH:"/"},n.exports={initCity:function(){var t=this.getCity(i.COOKIE_CITY_KEY);t&&t.code||this.setCity(i.DEFAULT_CITY)},setCity:function(t){if(t&&t.name){var e=encodeURIComponent(JSON.stringify(t));o.setRaw(i.COOKIE_CITY_KEY,e,{expires:i.COOKIE_CITY_EXPIRES,path:i.DEFAULT_PATH})}},getCity:function(){var t=decodeURIComponent(o.getRaw(i.COOKIE_CITY_KEY)),e=JSON.parse(t);return this.isEmpty(e)?i.DEFAULT_CITY:e},setAddr:function(t){if(t.address){var e={};e.address=C.encodeHTML(decodeURIComponent(t.address)),e.lat=t.lat,e.lng=t.lng;var n=encodeURIComponent(JSON.stringify(e));o.setRaw(i.COOKIE_ADDR_KEY,n,{expires:i.COOKIE_ADDR_EXPIRES,path:i.DEFAULT_PATH})}},getAddr:function(){var t=decodeURIComponent(o.getRaw(i.COOKIE_ADDR_KEY));return JSON.parse(t)},isEmpty:function(t){for(var e in t)return!1;return!0}}});
;/*!waimai:static/utils/fingerprint.js*/
define("waimai:static/utils/fingerprint",function(e,t,n){!function(e,t,i){"undefined"!=typeof n&&n.exports?n.exports=i():"function"==typeof define&&define.amd?define(i):t[e]=i()}("Fingerprint",this,function(){"use strict";var e=function(e){var t,n;t=Array.prototype.forEach,n=Array.prototype.map,this.each=function(e,n,i){if(null!==e)if(t&&e.forEach===t)e.forEach(n,i);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(n.call(i,e[r],r,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&n.call(i,e[o],o,e)==={})return},this.map=function(e,t,i){var r=[];return null==e?r:n&&e.map===n?e.map(t,i):(this.each(e,function(e,n,a){r[r.length]=t.call(i,e,n,a)}),r)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.screen_orientation=e.screen_orientation,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)};return e.prototype={get:function(){var e=[];if(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution){var t=this.getScreenResolution();"undefined"!=typeof t&&e.push(this.getScreenResolution().join("x"))}return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),e.push(document.body?typeof document.body.addBehavior:"undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},getKey:function(){var e={};e.language=navigator.language,e.colorDepth=screen.colorDepth;var t=this.getScreenResolution();return e.screen_resolution="undefined"!=typeof t?this.getScreenResolution().join("x"):"",e.timezone=(new Date).getTimezoneOffset(),e.openDatabase=typeof window.openDatabase,e.sessionStorage=this.hasSessionStorage(),e.localStorage=this.hasLocalStorage(),e.indexedDB=!!window.indexedDB,e.addBehavior=document.body?typeof document.body.addBehavior:"",e.cpuClass=navigator.cpuClass,e.platform=navigator.platform,e.doNotTrack=navigator.doNotTrack,e.plugins=this.murmurhash3_32_gc(this.getPluginsString(),31),this.canvas&&this.isCanvasSupported()&&(e.canvas=this.murmurhash3_32_gc(this.getCanvasFingerprint(),31)),e},murmurhash3_32_gc:function(e,t){var n,i,r,a,o,s,c,h;for(n=3&e.length,i=e.length-n,r=t,o=3432918353,s=461845907,h=0;i>h;)c=255&e.charCodeAt(h)|(255&e.charCodeAt(++h))<<8|(255&e.charCodeAt(++h))<<16|(255&e.charCodeAt(++h))<<24,++h,c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,r^=c,r=r<<13|r>>>19,a=5*(65535&r)+((5*(r>>>16)&65535)<<16)&4294967295,r=(65535&a)+27492+(((a>>>16)+58964&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(h+2))<<16;case 2:c^=(255&e.charCodeAt(h+1))<<8;case 1:c^=255&e.charCodeAt(h),c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,r^=c}return r^=e.length,r^=r>>>16,r=2246822507*(65535&r)+((2246822507*(r>>>16)&65535)<<16)&4294967295,r^=r>>>13,r=3266489909*(65535&r)+((3266489909*(r>>>16)&65535)<<16)&4294967295,r^=r>>>16,r>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var e=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return this.map(e,function(e){try{return new ActiveXObject(e),e}catch(t){return null}}).join(";")}return""},getScreenResolution:function(){var e;return e=this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n="http://www.baidu.com";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}},e})});
;/*!waimai:static/utils/GlobalErrorMonitor.js*/
define("waimai:static/utils/GlobalErrorMonitor",function(r,e,i){function n(r){var e,i={};if("object"==typeof r){if(i.ua=window.navigator.userAgent,i.page_url=window.location.href,e=r.stack)i.stack=e;else for(var n in r)r.hasOwnProperty(n)&&"string"==typeof r[n]&&(i[n]=r[n]);(new Image).src=o+encodeURIComponent(JSON.stringify(i))}}var o="/waimai?qt=feerror&msg=";i.exports={error:function(r,e,i){if(1===arguments.length)return void n(r);if(e){var o={};o.message=r,o.url=e,o.line=i,n(o)}}}});
;/*!waimai:static/utils/GlobalTips.js*/
define("waimai:static/utils/GlobalTips",function(t,o,i){function e(){c&&clearTimeout(c),l.fixTo("#content","top",{top:0}),l.hide()}function n(t){var o=$(window).scrollTop(),i=o>f?o-f+SELF_HEIGHT+20:SELF_HEIGHT+1,e={top:i};"top"===t?e={top:o}:"offTop"===t&&(e={top:i+SELF_HEIGHT}),l.show(),l.fixTo("#content","top",e)}var s,l,p,c,a=3e3,f=82;SELF_HEIGHT=45,s=t("jsmod/ui/fixElement"),l=new s('<div class="global-tips"><span class="gt-msg"></span></div>',{targetType:"top",zIndex:3e3,preventShow:!0}),p=l.getElement(),$(window).on("scroll.globaltips",function(){e()}),$(".global-tips .close-btn").on("click",function(){e()}),i.exports={tip:function(t,o){c&&clearTimeout(c),p.find(".gt-msg").html(t),l.redraw(),n(o),c=setTimeout(function(){e()},a)},topTip:function(t,o){o?p.addClass("reverse"):p.removeClass("reverse"),this.tip(t,"top")},hide:function(){e()}}});
;/*!waimai:static/utils/LocalDataCenter.js*/
define("waimai:static/utils/LocalDataCenter",function(t,e,i){var a=t("waimai:static/utils/store"),n=t("wcommon:static/util");i.exports={eLength:5,schema:["address","lat","lng"],key:"LocalDataCenter",add:function(t){var e=this,i=a.get(e.key)||[];if(e._validate(t)){t.address=encodeURIComponent(n.encodeHTML(decodeURIComponent(t.address)));for(var r in i){var s=i[r];if(e._equal(t,s))return}i.unshift(t),i=e._cut(i),a.set(e.key,i)}},getAll:function(){return this._cut(a.get(this.key))},_validate:function(t){var e=!0;for(var i in this.schema)e=e&&t[this.schema[i]];return e},_cut:function(t){for(;t&&t.length>this.eLength;)t.pop();return t},_equal:function(t,e){return t&&e&&this._serialize(t)===this._serialize(e)},_serialize:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=t[i]);return e}}});
;/*!waimai:static/utils/oop-base/aspect/aspect.js*/
define("waimai:static/utils/oop-base/aspect/aspect",function(t,r,i){function e(t,r,i,e){for(var o,c,f=r.split(n);o=f.shift();)c=s(this,o),c.__isAspected||a.call(this,o),this.on(t+":"+o,i,e);return this}function s(t,r){var i=t[r];if(!i)throw new Error("Invalid method name: "+r);return i}function a(t){var r=this[t];this[t]=function(){var i=Array.prototype.slice.call(arguments),e=["before:"+t].concat(i);if(this.trigger.apply(this,e)!==!1){var s=r.apply(this,arguments),a=["after:"+t,s].concat(i);return this.trigger.apply(this,a),s}},this[t].__isAspected=!0}i.exports={before:function(t,r,i){return e.call(this,"before",t,r,i)},after:function(t,r,i){return e.call(this,"after",t,r,i)}};var n=/\s+/});
;/*!waimai:static/utils/oop-base/attribute/attribute.js*/
define("waimai:static/utils/oop-base/attribute/attribute",function(t,r){function e(t){return"[object String]"===w.call(t)}function n(t){return"[object Function]"===w.call(t)}function i(t){return null!=t&&t==t.window}function a(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!A.call(t,"constructor")&&!A.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var e;if(j)for(e in t)return A.call(t,e);for(e in t);return void 0===e||A.call(t,e)}function o(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t)||!t.hasOwnProperty)return!1;for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function c(t,r){var e;for(e in r)r.hasOwnProperty(e)&&(t[e]=u(r[e],t[e]));return t}function u(t,r){return P(t)?t=t.slice():a(t)&&(a(r)||(r={}),t=c(r,t)),t}function s(t,r,e){for(var n=[],i=r.constructor.prototype;i;)i.hasOwnProperty("attrs")||(i.attrs={}),l(e,i.attrs,i),o(i.attrs)||n.unshift(i.attrs),i=i.constructor.superclass;for(var a=0,c=n.length;c>a;a++)y(t,p(n[a]))}function f(t,r){y(t,p(r,!0),!0)}function l(t,r,e,n){for(var i=0,a=t.length;a>i;i++){var o=t[i];e.hasOwnProperty(o)&&(r[o]=n?r.get(o):e[o])}}function h(t,r){for(var e in r)if(r.hasOwnProperty(e)){var i,a=r[e].value;n(a)&&(i=e.match(m))&&(t[i[1]](v(i[2]),a),delete r[e])}}function v(t){var r=t.match(S),e=r[1]?"change:":"";return e+=r[2].toLowerCase()+r[3]}function g(t,r,e){var n={silent:!0};t.__initializingAttrs=!0;for(var i in e)e.hasOwnProperty(i)&&r[i].setter&&t.set(i,e[i],n);delete t.__initializingAttrs}function p(t,r){var e={};for(var n in t){var i=t[n];e[n]=!r&&a(i)&&b(i,x)?i:{value:i}}return e}function y(t,r,e){var n,i,a;for(n in r)if(r.hasOwnProperty(n)){if(i=r[n],a=t[n],a||(a=t[n]={}),void 0!==i.value&&(a.value=u(i.value,a.value)),e)continue;for(var o in C){var c=C[o];void 0!==i[c]&&(a[c]=i[c])}}return t}function b(t,r){for(var e=0,n=r.length;n>e;e++)if(t.hasOwnProperty(r[e]))return!0;return!1}function O(t){return null==t||(e(t)||P(t))&&0===t.length||o(t)}function d(t,r){if(t===r)return!0;if(O(t)&&O(r))return!0;var e=w.call(t);if(e!=w.call(r))return!1;switch(e){case"[object String]":return t==String(r);case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase;case"[object Array]":var n=t.toString(),i=r.toString();return-1===n.indexOf("[object")&&-1===i.indexOf("[object")&&n===i}if("object"!=typeof t||"object"!=typeof r)return!1;if(a(t)&&a(r)){if(!d(_(t),_(r)))return!1;for(var o in t)if(t[o]!==r[o])return!1;return!0}return!1}r.initAttrs=function(t){var r=this.attrs={},e=this.propsInAttrs||[];s(r,this,e),t&&f(r,t),g(this,r,t),h(this,r),l(e,this,r,!0)},r.get=function(t){var r=this.attrs[t]||{},e=r.value;return r.getter?r.getter.call(this,e,t):e},r.set=function(t,r,n){var i={};e(t)?i[t]=r:(i=t,n=r),n||(n={});var o=n.silent,u=n.override,s=this.attrs,f=this.__changedAttrs||(this.__changedAttrs={});for(t in i)if(i.hasOwnProperty(t)){var l=s[t]||(s[t]={});if(r=i[t],l.readOnly)throw new Error("This attribute is readOnly: "+t);l.setter&&(r=l.setter.call(this,r,t));var h=this.get(t);!u&&a(h)&&a(r)&&(r=c(c({},h),r)),s[t].value=r,this.__initializingAttrs||d(h,r)||(o?f[t]=[r,h]:this.trigger("change:"+t,r,h,t))}return this},r.change=function(){var t=this.__changedAttrs;if(t){for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];this.trigger("change:"+r,e[0],e[1],r)}delete this.__changedAttrs}return this},r._isPlainObject=a;var j,w=Object.prototype.toString,A=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var r=[];t.prototype={valueOf:1,y:1};for(var e in new t)r.push(e);j="x"!==r[0]}();var P=Array.isArray||function(t){return"[object Array]"===w.call(t)},_=Object.keys;_||(_=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r});var m=/^(on|before|after)([A-Z].*)$/,S=/^(Change)?([A-Z])(.*)/,x=["value","getter","setter","readOnly"],C=["setter","getter","readOnly"]});
;/*!waimai:static/utils/oop-base/class/class.js*/
define("waimai:static/utils/oop-base/class/class",function(t,n,r){function o(t){return this instanceof o||!f(t)?void 0:e(t)}function i(t){var n,r;for(n in t)r=t[n],o.Mutators.hasOwnProperty(n)?o.Mutators[n].call(this,r):this.prototype[n]=r}function e(t){return t.extend=o.extend,t.implement=i,t}function s(){}function c(t,n,r){for(var o in n)if(n.hasOwnProperty(o)){if(r&&-1===l(r,o))continue;"prototype"!==o&&(t[o]=n[o])}}r.exports=o,o.create=function(t,n){function r(){t.apply(this,arguments),this.constructor===r&&this.initialize&&this.initialize.apply(this,arguments)}return f(t)||(n=t,t=null),n||(n={}),t||(t=n.Extends||o),n.Extends=t,t!==o&&c(r,t,t.StaticsWhiteList),i.call(r,n),e(r)},o.extend=function(t){return t||(t={}),t.Extends=this,o.create(t)},o.Mutators={Extends:function(t){var n=this.prototype,r=u(t.prototype);c(r,n),r.constructor=this,this.prototype=r,this.superclass=t.prototype},Implements:function(t){p(t)||(t=[t]);for(var n,r=this.prototype;n=t.shift();)c(r,n.prototype||n)},Statics:function(t){c(this,t)}};var u=Object.__proto__?function(t){return{__proto__:t}}:function(t){return s.prototype=t,new s},a=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===a.call(t)},f=function(t){return"[object Function]"===a.call(t)},l=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var r=0,o=t.length;o>r;r++)if(t[r]===n)return r;return-1}});
;/*!waimai:static/utils/oop-base/events/events.js*/
define("waimai:static/utils/oop-base/events/events",function(t,e,r){function n(){}function o(t,e,r){var n=!0;if(t){var o=0,i=t.length,s=e[0],a=e[1],f=e[2];switch(e.length){case 0:for(;i>o;o+=2)n=t[o].call(t[o+1]||r)!==!1&&n;break;case 1:for(;i>o;o+=2)n=t[o].call(t[o+1]||r,s)!==!1&&n;break;case 2:for(;i>o;o+=2)n=t[o].call(t[o+1]||r,s,a)!==!1&&n;break;case 3:for(;i>o;o+=2)n=t[o].call(t[o+1]||r,s,a,f)!==!1&&n;break;default:for(;i>o;o+=2)n=t[o].apply(t[o+1]||r,e)!==!1&&n}}return n}function i(t){return"[object Function]"===Object.prototype.toString.call(t)}var s=/\s+/;n.prototype.on=function(t,e,r){var n,o,i;if(!e)return this;for(n=this.__events||(this.__events={}),t=t.split(s);o=t.shift();)i=n[o]||(n[o]=[]),i.push(e,r);return this},n.prototype.once=function(t,e,r){var n=this,o=function(){n.off(t,o),e.apply(r||n,arguments)};return this.on(t,o,r)},n.prototype.off=function(t,e,r){var n,o,i,f;if(!(n=this.__events))return this;if(!(t||e||r))return delete this.__events,this;for(t=t?t.split(s):a(n);o=t.shift();)if(i=n[o])if(e||r)for(f=i.length-2;f>=0;f-=2)e&&i[f]!==e||r&&i[f+1]!==r||i.splice(f,2);else delete n[o];return this},n.prototype.trigger=function(t){var e,r,n,i,a,f,c=[],p=!0;if(!(e=this.__events))return this;for(t=t.split(s),a=1,f=arguments.length;f>a;a++)c[a-1]=arguments[a];for(;r=t.shift();)(n=e.all)&&(n=n.slice()),(i=e[r])&&(i=i.slice()),"all"!==r&&(p=o(i,c,this)&&p),p=o(n,[r].concat(c),this)&&p;return p},n.prototype.emit=n.prototype.trigger;var a=Object.keys;a||(a=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),n.mixTo=function(t){function e(e){t[e]=function(){return r[e].apply(s,Array.prototype.slice.call(arguments)),this}}var r=n.prototype;if(i(t)){for(var o in r)r.hasOwnProperty(o)&&(t.prototype[o]=r[o]);Object.keys(r).forEach(function(e){t.prototype[e]=r[e]})}else{var s=new n;for(var o in r)r.hasOwnProperty(o)&&e(o)}},r.exports=n});
;/*!waimai:static/utils/oop-base/base/base.js*/
define("waimai:static/utils/oop-base/base/base",function(t,i,s){function a(t,i){for(var s in i)if(i.hasOwnProperty(s)){var a="_onChange"+e(s);t[a]&&t.on("change:"+s,t[a])}}function e(t){return t.charAt(0).toUpperCase()+t.substring(1)}var n=t("waimai:static/utils/oop-base/class/class"),o=t("waimai:static/utils/oop-base/events/events"),r=t("waimai:static/utils/oop-base/aspect/aspect"),c=t("waimai:static/utils/oop-base/attribute/attribute");s.exports=n.create({Implements:[o,r,c],initialize:function(t){this.initAttrs(t),a(this,this.attrs)},destroy:function(){this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}}})});
;/*!waimai:static/utils/SlidePlayer.js*/
define("waimai:static/utils/SlidePlayer",function(t,i,n){var o,a={autoPlay:!0,current:0,duration:3e3,width:"100%",height:"100%",autoAdaptive:!1},e=function(t,i){var n=this;0!=$(t).length&&(n.$el=$(t),n.option=$.extend({},a,i),n.init())};$.extend(e.prototype,{init:function(){var t=this;return t.$el.css({position:"relative",overflow:"hidden"}),t.$imgList=t.$el.find(".slide-container li"),t.$navContainer=t.$el.find(".slide-indicators"),t.imgCount=t.$imgList.size(),t.cur=t.option.current,0==t.imgCount?void t.$el.hide():(t.option.autoAdaptive&&(t.option.height="100%",t.option.width="100%"),t.$imgList.css({position:"relative","float":"left","margin-right":"-100%"}),t.$imgList.find("img").css({height:t.option.height,width:t.option.width}),t.$imgList.hide(),t.$imgList.eq(t.cur).show(),t.imgCount>1&&(t.addNav(),t.$navContainer.find("li").removeClass("active"),t.$navContainer.find("li").eq(t.cur).addClass("active")),void t.handleMouse(t.$imgList))},handleMouse:function(t){var i=this;t.on("mouseenter",function(){clearInterval(o)}),t.on("mouseleave",function(){i.startAutoPlay()})},addNav:function(){for(var t=this,i="",n=0;n<t.imgCount;n++)i+=n==t.cur?"<li class='active'></li>":"<li></li>";t.$navContainer.append(i),t.bindEvent(),t.option.autoPlay&&t.startAutoPlay()},showCur:function(){var t=this;t.$imgList.fadeOut(1e3),t.$imgList.eq(t.cur).fadeIn(1e3),t.$navContainer.find("li").removeClass("active"),t.$navContainer.find("li").eq(t.cur).addClass("active")},autoPlay:function(t){var i=t||this;i.cur>=i.imgCount-1?i.cur=0:i.cur++,i.imgCount>1&&i.showCur()},startAutoPlay:function(){var t=this;o=setInterval(function(){t.autoPlay(t)},t.option.duration)},stopAutoPlay:function(){clearInterval(o)},bindEvent:function(){var t=this;t.option.autoPlay&&t.$navContainer.hover(function(){t.stopAutoPlay()},function(){t.startAutoPlay()}),t.$navContainer.on("click","li",function(i){i.stopPropagation(),i.preventDefault();var n=$(i.currentTarget);n.hasClass("active")||(t.stopAutoPlay(),t.cur=n.index(),t.showCur())})}}),n.exports=e});
;/*!waimai:static/utils/stat.js*/
define("waimai:static/utils/stat",function(t,n,e){function a(t,n,e){return function(){t&&t.apply(e,arguments),n&&n.apply(e,arguments)}}e.exports.addNStat=function(t,n){r.addStat(t,n)},e.exports.init=function(t,n,e,a){r.init(t,n,e,a)},e.exports.open=function(t,n){var e;n=$.extend({},n,stat.opts),stat.opts.page&&stat.opts.da_trd&&"hotel"==stat.opts.da_trd&&!/.*(stat_action_path).*/.test(t)&&(e=util.getParam("stat_action_path")||"",e?e+=","+stat.opts.page:e=stat.opts.page,n.stat_action_path=e),t+=t.indexOf("?")>-1?"&"+$.param(n):"?"+$.param(n),window.open(t)},e.exports.getOption=function(){return $.extend({page:r.pagePre},r.opts)};var i={encode:function(t){var n=[];return $.each(t,function(t,e){n.push(t+"="+encodeURIComponent(e))}),n.join("&")},decode:function(t){if("string"==typeof t)return decodeURIComponent(t);var n=[];return $.each(t,function(t,e){n.push(t+"="+(/%[A-Za-z0-9]{2}/.test(e)?decodeURIComponent(e):e))}),n.join("&")}},r={opts:{resid:61,func:"place",da_ver:"2.1.0"},init:function(){"object"==typeof arguments[0]&&(this.opts=$.extend(this.opts,arguments[0]),this.pagePre=this.opts.page)},addStat:function(t,n,e){try{if(t.nodeType){var a=$(t).attr(s.statArr).split("|");return void this.addStat(a[1],a.length>2?a[2]:$(t).text(),a[0])}var i=$.extend({},this.opts),r=typeof t;"string"==r?(t=t.replace(/[\{\}'"]/g,""),$.each(t.split(","),function(t,n){var e=n.split(":");2==e.length&&(i[$.trim(e[0])]=$.trim(e[1]))})):"object"==r&&$.extend(i,t),e&&(i.da_act=$.trim(e)),i.t=(1e8*Math.random()).toFixed(0),this.pagePre&&(i.da_src=this.pagePre+(i.da_src?"."+i.da_src:"")),this.sendStat(i)}catch(o){}},sendStat:function(t){var n=new Image;n.onload=n.onerror=function(){n=null},n.src="http://map.baidu.com/img/transparent.gif?"+i.encode(t)}},o={items:[],handle:null,addStat:function(t){var n=$(t).attr(s.statArr),e=n.match(/load\|\{?(.*)(da_src:([^,\}]+))(.*)/);e&&e.length>0&&(this.items.push(e[3]),this.send())},stop:function(){this.handle&&clearTimeout(this.handle)},send:function(){this.stop();var t=this;t.items&&t.items.length&&(this.handle=setTimeout(function(){r.addStat({da_src:t.items.join(":"),da_act:"load"}),t.items=[]},2e3))}},s={statArr:"nstat",surpportEvent:["ready","load","click","one","show","showone","hide","hideone","mousedown"],scanBindEvent:["ready","load","click","one","mousedown"],handles:{mergeEvent:{event:["load"],handle:function(t){var n=$(t).attr(s.statArr).split("|");o.addStat(t),n[0]=n[0]+"ed",$(t).attr(s.statArr,n.join("|"))}},customEvent:{event:["ready","showone","hideone"],handle:function(t){var n=$(t).attr(s.statArr).split("|");r.addStat(t),n[0]=n[0]+"ed",$(t).attr(s.statArr,n.join("|"))}},jQueryEvent:{event:["click","one"],handle:function(t){var n=$(t).attr(s.statArr).split("|")[0],e=n+".nstat";$(t).unbind(e).bind(e,function(){r.addStat(t)});var a=$._data($(t)[0],"events")[n],i=a.pop();a.unshift(i)}},statusEvent:{event:["show","hide"],handle:function(t){r.addStat(t)}}},getHandle:function(t){for(var n in this.handles)if($.inArray(t,this.handles[n].event)>-1)return this.handles[n].handle},init:function(t,n){var e=this.statArr,a=this,i=$(t||"body"),r=function(){var t=$(this).attr(e).split("|")[0];(n||$.inArray(t,a.scanBindEvent)>-1)&&$.inArray(t,a.surpportEvent)>-1&&a.getHandle(t)(this)},o=n?"["+e+"^='"+n+"']":"["+e+"]";i.is(o)&&r.apply(i[0]),i.find("["+e+"]").each(r)}},u={fun_proxy:[{fun:["append","prepend","before","after"],proxy:function(t){return function(){return $.each(arguments,function(t,n){var e="string"==typeof n?$.trim(n):n,a=$(e);s.init(a)}),t.apply(this,arguments)}}},{fun:["html","wrapAll"],proxy:function(t){return function(){var n=t.apply(this,arguments);return s.init($(this)),n}}},{fun:["show","hide"],proxy:function(t,n){return function(){var e=t.apply(this,arguments);return s.init($(this),n),e}}},{fun:["attr"],proxy:function(t){return function(){var n=t.apply(this,arguments);return arguments.length>=2&&s.init($(this)),n}}}],$_fun_proxy:[{fun:["ajax"],proxy:function(t){return function(n){return n=n||{},n.beforeSend=a(n.beforeSend,function(){o.stop()},n),n.complete=a(n.complete,function(){o.send()},n),t.apply($,arguments)}}}],init:function(){var t=this;$.each(t.fun_proxy,function(t,n){$.each(n.fun,function(t,e){$.fn[e]=n.proxy($.fn[e],e)})})},__init:function(){var t=this;$.each(t.$_fun_proxy,function(t,n){$.each(n.fun,function(t,e){$[e]=n.proxy($[e],e)})})}};u.__init(),$(function(){u.init(),s.init()})});
;/*!waimai:static/utils/statis.js*/
define("waimai:static/utils/statis",function(t,e,n){{var e;window._hmt=window._hmt||[],t("wcommon:static/util")}$(function(){var t=document.createElement("script");t.src="//hm.baidu.com/hm.js?e0401ea6bbde08becd704794fb788176";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}),window.statis=e=n.exports={trackPage:function(t){window._hmt.push(["_trackPageview",t])},trackEvent:function(t,e,n,a){window._hmt.push(["_trackEvent",t,e,n,a]);var i=["/event"];$.each(arguments,function(t,e){e&&i.push(e)}),this.trackPage(i.join("/"))}}});
;/*!waimai:static/utils/timer.js*/
define("waimai:static/utils/timer",function(n,e,t){!function(){var n={tmpl:function(n,e){var t=/\{([^\}]*)\}/g;return n.replace(t,function(n,t){return"undefined"!=typeof e[t]?e[t]:""})}},e=function(n,t){var o=this;if(o.nodeMapList=[],$.isPlainObject(n)?(t=n,t.container=$(document.body)):(t=t||{},t.container=$(n)),o.options=$.extend({},e.DEFAULTS,t),!o.paramsCheck())throw new Error("参数配置有误");return o.init(),o};e.PRECISION={day:"day",hour:"hour",minute:"minute",second:"second"},e.DEFAULTS={selector:"[data-role='timer']",step:1,now:0,end:null,precision:e.PRECISION.second,timingTpl:"{days}天{hours}小时{minutes}分{seconds}秒",endTpl:"已结束"},e.prototype={init:function(){var n,e=this,t=e.options,o=$(t.selector,t.container),i=e.nodeMapList;o.each(function(e,o){n=o.getAttribute("data-end"),n||(n=t.end>0?t.end:t.now),i.push({node:o,life:n-t.now})}),e.loop()},paramsCheck:function(){var n=this,e=n.options,t=function(){};return e.now=e.now,e.end=e.end?e.end:0,e.step=parseInt(e.step),e.on=e.on||{},e.on.end=$.isFunction(e.on.end)?e.on.end:t,e.selector&&e.now&&!isNaN(e.step)?(e.step=Math.max(1e3*e.step,1e3),!0):!1},loop:function(){var n=this;clearTimeout(n.loopTimer),n.burn(),n.filter(),n.refresh(),n.nodeMapList.length>0&&(n.loopTimer=setTimeout(function(){n.loop()},n.options.step))},refresh:function(){var e=this,t=e.options.timingTpl,o=(e.options.endTpl,e.nodeMapList);$.each(o,function(o,i){i.node.innerHTML=n.tmpl(t,e.convertDate(i.life))})},filter:function(){{var n=this,e=[],t=[];n.options,n.nodeMapList}$.each(n.nodeMapList,function(n,o){o.life<=0?t.push(o):e.push(o)}),t.length>0&&n.onEnd(t),n.nodeMapList=e},burn:function(){var n=this,e=n.options,t=n.nodeMapList;$.each(t,function(n,t){t.life-=e.step})},convertDate:function(n){var t=this.options.precision,o=1e3,i=60*o,s=60*i,r=24*s,a=0,p=0,c=0,d=0;switch(t){case e.PRECISION.day:a=parseInt(n/r);break;case e.PRECISION.hour:a=parseInt(n/r),p=parseInt(n%r/s);break;case e.PRECISION.minute:a=parseInt(n/r),p=parseInt(n%r/s),c=parseInt(n%s/i);break;case e.PRECISION.second:a=parseInt(n/r),p=parseInt(n%r/s),c=parseInt(n%s/i),d=parseInt(n%i/o)}return{days:a,hours:p,minutes:c,seconds:d}},restart:function(n,e,t){var o,i=this,s={},r=i.nodeMapList;if(o=$(n,i.container)[0],e&&t)if(s.node=o,s.life=t-e,s.life<=0)i.onEnd([s]);else{for(var a=0;a<r.length;a++)if(r[a].node==o){r.splice(a,1);break}r.push(s),i.loop()}},onEnd:function(n){var e=this,t=e.options.on.end;$.each(n,function(n,t){t.node.innerHTML=e.options.endTpl}),t(n)}},t.exports=e}()});
;/*!waimai:static/plugin/jquery.href.js*/
!function(e){e.extend({href:function(){var e,n=window.location.href,t=new RegExp;return n=n.replace(/#.*/,""),{getValue:function(){return n},replace:function(){return n=n.replace(arguments[0],arguments[1]),this},path:function(e){return n=-1!=n.indexOf("?")?n.replace(/\/[^\/]*\?/,"/"+e+"?"):n.replace(/\/[^\/]*$/,"/"+e+"?"),this},param:function(){var r=arguments,i=r.length;if(0===i)return n=n.replace(/\?(.)*/,"?"),this;if(1==i&&"string"==typeof r[0])return t.compile("[&?]"+r[0]+"=([^=&?#]*)"),n.match(t)?n.match(t)[1]:"";if(2==i)return t.compile("[&?]"+r[0]+"=([^=&?#]*)"),e=n.match(t),n=e?n.replace(r[0]+"="+e[1],r[0]+"="+r[1]):n+(n.indexOf("?")==n.length-1?"":"&")+r[0]+"="+r[1],this;if("object"==typeof r[0]){var c,a=r[0];for(c in a)r.callee(c,a[c])}return this},exec:function(){window.location.href=n}}}})}(jQuery);
;/*!waimai:static/plugin/jquery.lazyload.js*/
!function(e,t,o,n){var i=e(t);e.fn.lazyload=function(r){function f(){var t=0;clearTimeout(a),a=setTimeout(function(){d.each(function(){var o=e(this),n=this;if(!h.skip_invisible||o.is(":visible"))if(e.abovethetop(n,h)||e.leftofbegin(n,h));else if(e.belowthefold(n,h)||e.rightoffold(n,h)){if(++t>h.failure_limit)return!1}else o.trigger("appear"),t=0})},500)}var l,a,d=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(h,r)),l=h.container===n||h.container===t?i:e(h.container),0===h.event.indexOf("scroll")&&l.bind(h.event,function(){return f()}),this.each(function(){var t=this,o=e(t);t.loaded=!1,o.one("appear",function(){if(!this.loaded){if(h.appear){var n=d.length;h.appear.call(t,n,h)}e("<img />").bind("load",function(){o.hide().attr("src",o.data(h.data_attribute))[h.effect](h.effect_speed),t.loaded=!0;var n=e.grep(d,function(e){return!e.loaded});if(d=e(n),h.load){var i=d.length;h.load.call(t,i,h)}}).attr("src",o.data(h.data_attribute))}}),0!==h.event.indexOf("scroll")&&o.bind(h.event,function(){t.loaded||o.trigger("appear")})}),i.bind("resize",function(){f()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&d.each(function(){e(this).trigger("appear")})}),e(o).ready(function(){f()}),this},e.belowthefold=function(o,r){var f;return f=r.container===n||r.container===t?i.height()+i.scrollTop():e(r.container).offset().top+e(r.container).height(),f<=e(o).offset().top-r.threshold},e.rightoffold=function(o,r){var f;return f=r.container===n||r.container===t?i.width()+i.scrollLeft():e(r.container).offset().left+e(r.container).width(),f<=e(o).offset().left-r.threshold},e.abovethetop=function(o,r){var f;return f=r.container===n||r.container===t?i.scrollTop():e(r.container).offset().top,f>=e(o).offset().top+r.threshold+e(o).height()},e.leftofbegin=function(o,r){var f;return f=r.container===n||r.container===t?i.scrollLeft():e(r.container).offset().left,f>=e(o).offset().left+r.threshold+e(o).width()},e.inviewport=function(t,o){return!(e.rightoffold(t,o)||e.leftofbegin(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
;/*!waimai:static/plugin/jquery.placeholder.js*/
!function(e,a,t){function l(e){var a={},l=/^jQuery\d+$/;return t.each(e.attributes,function(e,t){t.specified&&!l.test(t.name)&&(a[t.name]=t.value)}),a}function r(e,l){var r=this,o=t(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=l;o.focus()}else r.value="",o.removeClass("placeholder"),r==a.activeElement&&r.select()}function o(){var e,a=this,o=t(a),d=this.id;if(""==a.value){if("password"==a.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(c){e=t("<input>").attr(t.extend(l(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":d}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":d}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",d).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}var d,c,n="placeholder"in a.createElement("input"),i="placeholder"in a.createElement("textarea"),u=t.fn,h=t.valHooks,p=t.propHooks;n&&i?(c=u.placeholder=function(){return this},c.input=c.textarea=!0):(c=u.placeholder=function(){var e=this;return e.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},c.input=n,c.textarea=i,d={get:function(e){var a=t(e),l=a.data("placeholder-password");return l?l[0].value:a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,l){var d=t(e),c=d.data("placeholder-password");return c?c[0].value=l:d.data("placeholder-enabled")?(""==l?(e.value=l,e!=a.activeElement&&o.call(e)):d.hasClass("placeholder")?r.call(e,!0,l)||(e.value=l):e.value=l,d):e.value=l}},n||(h.input=d,p.value=d),i||(h.textarea=d,p.value=d),t(function(){t(a).delegate("form","submit.placeholder",function(){var e=t(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),t(e).bind("beforeunload.placeholder",function(){t(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery);
;/*!waimai:static/plugin/Listener.js*/
!function(){var n=50,t=25,e={},r=[].slice,a={},c=function(n,t,r,c){var o=a[n];o||(o=a[n]={}),o[t]=o[t]||[],o[t].push({func:r,context:c||e})},o=function(n,t,r,a){var o=function(){return e.off(n,t,o),r.apply(a||e,arguments)};c(n,t,o,a)},f=function(e,c){if(a[e]&&a[e][c]&&a[e][c].length){for(var o=a[e][c],f=[],i=o.length;i--;)f.push({handler:o[i],args:r.call(arguments,1)});!function(){var e=+new Date;do{var r=f.shift(),a=r.handler;try{a.func.apply(a.context,r.args)}catch(c){}}while(f.length&&+new Date-e<n);f.length>0&&setTimeout(arguments.callee,t)}()}},i=function(n,t,r,c){if(c=c||e,a[n]&&a[n][t]&&a[n][t].length)for(var o,f=a[n][t],i=f.length;i--;)o=f[i],o.func===r&&o.context===c&&f.splice(i,1)};e.on=c,e.once=o,e.trigger=f,e.off=i,window.listener=window.listener||e}();
;/*!waimai:static/plugin/template.js*/
window.baidu=window.baidu||{},baidu.template=baidu.template||{},baidu.template._encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},baidu.template._encodeEventHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\n/g,"\n").replace(/\\r/g,"\r")};
;/*!waimai:page/layout.js*/
define("waimai:page/layout",function(i){var n=i("waimai:static/utils/GlobalErrorMonitor"),o=i("jsmod/ui/dialog");$("#content").css("min-height",$(window).height()-290),window.onerror1=function(){return n.error.apply(n,arguments),!0},window.onresize=function(){$("#content").css("min-height",$(window).height()-290)},$(function(){o&&o.setOpacity(.55),$(".placeholder-con").placeholder()})});