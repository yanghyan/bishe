define("merchants:widget/settled/position/position.js",function(i,t,o){var s=i("merchants:widget/settled/position/citySelect/citySelect.js"),e=i("merchants:widget/settled/position/positionSearch/positionSearch.js"),n=i("merchants:widget/settled/position/positionMap/positionMap.js");o.exports=Widget.extend({el:".settled-position",events:{},channels:{"position selectcity":"onSelectCity","position selectposition":"onSelectPosition","position selectpoi":"onSelectPOI","progress change":"onProgressChange"},init:function(){this.positionParam={poi_name:"",latitude:"",longitude:"",city_id:"",city:"",is_open:""},this.position=null,this.$citySelectWrap=this.$dom.city_select_wrap,this.$positionSearchWrap=this.$dom.search_position_wrap,this.$positionListWrap=this.$dom.position_list_wrap,this.positionSearch=new e(this.$positionSearchWrap),this.citySelect=new s(this.$citySelectWrap),this.positionMap=new n("positionMap",this.$positionListWrap)},onSelectCity:function(i,t){var o=t.is_open,s=t.city_id,e=t.city;this.positionSearch.toggleDisable(o,s,e),this.positionMap.centerByCity(e),this.positionMap.hideList()},onSelectPosition:function(i,t){this.positionParam.is_open=t.is_open?1:0,this.positionParam.city=t.city,this.positionParam.city_id=t.city_id,t.fromMarked||this.positionMap.search(t.city_id?t.wd:"")},onSelectPOI:function(i,t){this.positionParam.poi_name=t.poi_name,this.positionParam.latitude=t.lat,this.positionParam.longitude=t.lng,listener.trigger("position","finishpoi",this.positionParam),listener.trigger("progress","change",2)},onProgressChange:function(i,t){1==t?this.$el.show():this.$el.hide()}})});